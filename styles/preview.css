:root{
  --bg:#690d0d;
  --panel:#2b0f0f;
  --gold:#d4af37;
  --muted:#f5e7c0;
  --card:#3a1c1c;
  --glass: rgba(255,255,255,0.04);
  --gap:16px;
  font-family: 'Poppins', sans-serif;
}

/* Reset basics */
*{box-sizing:border-box}
body{
  margin:0;
  background: linear-gradient(180deg, var(--bg) 0%, #690d0d 100%);
  color:var(--muted);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100vh;
}

/* Header */
.preview-header{
  display:flex;
  align-items:center;
  gap:20px;
  padding:20px 28px;
}
.preview-header .back{ color:var(--gold); text-decoration:none; font-weight:600; }
.preview-header h1{ margin:0; font-size:1.25rem; color:var(--muted); }

/* Layout */
.preview-main{
  display:grid;
  grid-template-columns: 260px 1fr 360px;
  gap:20px;
  padding:16px;
  align-items:start;
}

/* Left panel */
.preview-left{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
  border:1px solid rgba(191,167,111,0.08);
  padding:16px;
  border-radius:10px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
}
.info-box p{ margin:8px 0; font-size:0.95rem; color:var(--muted); }
.controls{ display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }
.btn{ padding:8px 12px; border-radius:8px; cursor:pointer; border:1px solid rgba(191,167,111,0.08); background:transparent; color:var(--muted); font-weight:600; }
.btn.primary{ background:var(--gold); color:#1c0a0a; border:none; }
.btn.outline{ border:1px solid var(--gold); color:var(--gold); background:transparent; }

/* Center â€” bracelet */
.preview-center{
  display:flex;
  align-items:center;
  justify-content:center;
}

.bracelet-wrap {
  width: 100%;
  padding: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow-x: auto; /* Keeps scrolling capability if needed */
  overflow-y: hidden;
  margin: 0 auto;
  
  /* ðŸ‘‡ HIDE THE SCROLLBAR (Clean Look) */
  scrollbar-width: none;  /* Firefox */
  -ms-overflow-style: none;  /* IE/Edge */
}

/* Hide scrollbar for Chrome/Safari/Opera */
.bracelet-wrap::-webkit-scrollbar {
  display: none;
}

.bracelet {
  display: inline-flex;
  align-items: center;
  justify-content: center;    /* Center content */
  background: rgba(255, 255, 255, 0.02);
  padding: 14px 22px;
  border-radius: 20px;
  gap: 0;
  min-height: 160px;
  position: relative;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  flex-shrink: 0;
  width: auto;
  margin: 0 auto;             /* Make sure bracelet is centered horizontally */
}


/* Slot (each link or charm) */
.slot{
  width:60px;
  height:60px;
  border-radius:8px;
  background:transparent;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  position:relative;
  margin-left:-18px; /* negative margin -> overlap */
  cursor:grab;
  transition: transform .18s ease, box-shadow .18s ease;
}
.slot:active { cursor:grabbing; }
.slot img{
  width:66px;  /* slightly bigger for overlap */
  height:66px;
  object-fit:contain;
  display:block;
  pointer-events:none;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.25));
}

/* Highlight when drag over */
.slot.over{
  transform: translateY(-8px) scale(1.03);
  z-index:40;
  box-shadow: 0 14px 30px rgba(0,0,0,0.45);
}

/* Charms list (right) */
.preview-right{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
  border-radius:10px;
  padding:12px;
  border:1px solid rgba(191,167,111,0.06);
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
}
.preview-right h3{ margin:4px 0 12px; color:var(--gold); font-size:1rem; }
.charms-list{
  display:flex;
  flex-direction:column;
  gap:10px;
  max-height:56vh;
  overflow:auto;
  padding-right:6px;
}

/* charm thumbnail */
.charm-thumb{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px;
  background:var(--card);
  border-radius:10px;
  cursor:pointer;
  user-select:none;
  border:1px solid rgba(255,255,255,0.03);
}
.charm-thumb img{
  width:48px; height:48px; object-fit:contain;
}
.charm-thumb .meta{
  font-size:0.85rem;
  color:var(--muted);
  flex:1;
}
.charm-thumb .meta small{ display:block; color:#cbbf9a; font-size:0.75rem; }

/* small note */
.sidebar-note{ margin-top:12px; font-size:0.8rem; color:#d9cfae; opacity:0.9 }

/* Responsive */
@media (max-width:1100px){
  .preview-main{ grid-template-columns: 1fr; padding:12px; gap:12px; }
  .preview-left, .preview-right{ order:2 }
  .preview-center{ order:1 }
  .preview-right{ max-height:220px; overflow:auto; }
}

/* small accessibility focus ring */
.slot:focus { outline:3px solid rgba(212,175,55,0.2); }

/* Nice micro animation for save feedback */
.save-fly {
  position:fixed;
  z-index:9999;
  pointer-events:none;
  transform-origin:center;
}

footer {
  text-align: center;
  margin-top: 15.7rem;
  padding: 1.5rem;
  background-color: #690d0d;
  color: #d4af37;
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

.left-pane {
  width: 260px;
  border: 1px solid #ddd;
  background: #fff;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 0 5px rgba(0,0,0,0.05);
}

.pane-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 10px;
  color: #333;
}

.info-box p {
  margin: 4px 0;
  font-size: 14px;
}

.pane-buttons {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 10px 0 14px;
}

.btn {
  cursor: pointer;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid #bbb;
  background: #f3f3f3;
  transition: background 0.2s;
  font-size: 14px;
}
.btn:hover { background: #e7e7e7; }
.primary-btn { background: #1e88e5; color: #fff; border-color: #176bb0; }
.primary-btn:hover { background: #1565c0; }

.instructions {
  font-size: 13px;
  color: #444;
}
.instructions ul {
  margin: 8px 0 0 16px;
  padding: 0;
}
.instructions li { margin-bottom: 4px; line-height: 1.4; }

.bracelet-zone {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
}

.bracelet-note {
  text-align: center;
  font-size: 0.85rem;
  color: var(--muted);
  opacity: 0.85;
  margin-top: 10px;
  max-width: 600px;
}

/* =========================================
   âœ¨ LIVELY ANIMATIONS (Spotlight & Sparkle)
   ========================================= */

/* 1. Luxury Spotlight Background */
/* This replaces the flat background with a rich radial gradient */
.preview-center {
  background: radial-gradient(circle at center, #5e1b1b 0%, #2b0f0f 70%);
  box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
  transition: background 0.5s ease;
  overflow: hidden;
  position: relative;
}

/* 2. The Gold Shimmer Animation */
@keyframes shimmerEffect {
  0% { 
    filter: brightness(1) drop-shadow(0 0 0 rgba(212, 175, 55, 0)); 
    transform: scale(1);
  }
  50% { 
    /* Flash bright and glow gold */
    filter: brightness(1.4) drop-shadow(0 0 8px rgba(212, 175, 55, 0.6)); 
    transform: scale(1.02);
  }
  100% { 
    filter: brightness(1) drop-shadow(0 0 0 rgba(212, 175, 55, 0)); 
    transform: scale(1);
  }
}

/* Class applied by JS to trigger the animation */
.slot.shine img {
  animation: shimmerEffect 0.8s ease-in-out;
}
